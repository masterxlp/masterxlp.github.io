---
layout: post
title:  "[E] Linux"
date:   2020-05-25 12:17:00 +0800
categories: linux
tags: 经验总结 E
author: Xlp
---
* content
{:toc}

## 新建用户
### 创建用户、修改登录密码

```
# Step 1
useradd -d /home/用户名 -m 用户名   // -d 表示创建的用户的主目录的位置以及名称 -m 表示创建目录

# Step 2
passwd 用户名  // 修改登录密码
```

### 增加权限
一般新创建的用户，在不修改权限的情况下，可使用的权限很少，因此，一般为了开发方便，可为新用户增加权限。

```
# Step 3
chmod /etc/sudoers 640   // 一般情况下，sudoers文件是“只读”的，无法修改，因此修改改文件为：对当前用户可“读写”，6 代表了对当前用户拥有“读（4）写（2）”的权限

# Step 4
用户名    ALL=(ALL:ALL) ALL    // 在 User privilege specification 位置，添加改行语句，其表示该用户拥有root用户的所以权限

# Step 5
chmod /etc/sudoers 440   // 更改sudoers文件为“只读”

```

### 修改bash
一般地，新建用户登录后，很多命令如 ll、logout 等命令在运行时显示 "not found"，且文件等都没有颜色。
这是因为shell使用的是 `/bin/sh` ，我们需要将其改为 `/bin/bash` 才能正常使用命令，让文件等颜色显示。

```
# Step 5
usermod -s /bin/bash 用户名   // 该命令需在root下执行
```


## 搭建python环境
### Anaconda
- 在[anaconda](https://www.anaconda.com/products/individual#linux)官网下载 Linux 版本的sh文件 **Anaconda3-2020.02-Linux-x86_64.sh**
- 上传改文件到 linux 用户下
  - 有时候从另一台服务器向使用的这台服务器使用SCP命令传输文件时，触发 `scp: /home/用户名/Anaconda3-2020.02-Linux-x86_64.sh: Permission denied` 错误，这是因为对`用户名`这个用户没有写入的权限
  - 修改权限：`chmod 777 /home/用户名` 即可
- 执行 `sh Anaconda3-2020.02-Linux-x86_64.sh`
- 配置环境变量：`PATH=/home/用户名/anaconda3/bin:$PATH`

### 创建环境

```
// 创建环境名为one的环境：python 3.6
conda create -n one python=3.6

// 激活环境
source activate one

// 更改pip下载镜像
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple

// 下载需要的相关包，例如下载tensorflow 1.12版本
pip install tensorflow==1.12.0

// 查看拥有的package
conda list
```






































